/* -------------------------------------   Pin Definitions ------------------------------------------

  You need to look at these and set them appropriately !

  Most pins can be disabled by setting them to 0 (zero).  If you're not using a pin or function, set it to 0.

  Pins > 99 = remote unit pin, for example: pin 109 = pin 9 on remote unit, pin A0+100 = pin A0 on remote unit

  Generated by K3NG Configuration Tool
  https://github.com/k3ng/k3ng_rotator_controller/

*/

/* azimuth pins --------------------- (use just the azimuth pins for an azimuth-only rotator) */

{% for pin_name in pins_by_group.get('Motor Control (Azimuth)', []) -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}{{ '             // ' + pins[pin_name].comment if pins[pin_name].comment else '' }}
{% endif -%}
{% endfor %}

{% for pin_name in pins_by_group.get('Buttons', []) -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}{{ '              // ' + pins[pin_name].comment if pins[pin_name].comment else '' }}
{% endif -%}
{% endfor %}

{% if 'rotator_analog_az' in pins -%}
#define rotator_analog_az {{ pins['rotator_analog_az'].pin_string }}     // reads analog azimuth voltage from rotator - pin 4 on Yaesu connector
{% endif -%}
{% if 'azimuth_speed_voltage' in pins -%}
#define azimuth_speed_voltage {{ pins['azimuth_speed_voltage'].pin_string }}  // optional - PWM output for speed control voltage feed into rotator (on continually unlike rotate_cw_pwm and rotate_ccw_pwm)
{% endif -%}
{% if 'overlap_led' in pins -%}
#define overlap_led {{ pins['overlap_led'].pin_string }}            // line goes active when azimuth rotator is in overlap (> 360 rotators)
{% endif -%}
{% if 'brake_az' in pins -%}
#define brake_az {{ pins['brake_az'].pin_string }}               // goes high to disengage azimuth brake (set to 0 to disable)
{% endif -%}
{% for pin_name in ['az_speed_pot', 'az_preset_pot', 'preset_start_button', 'button_stop', 'rotation_indication_pin', 'blink_led', 'az_stepper_motor_pulse', 'az_rotation_stall_detected'] -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}
{% endif -%}
{% endfor %}

/*----------- elevation pins --------------*/
{% if 'FEATURE_ELEVATION_CONTROL' in active_features -%}
#ifdef FEATURE_ELEVATION_CONTROL
{% for pin_name in pins_by_group.get('Motor Control (Elevation)', []) -%}
{% if pin_name in pins -%}
  #define {{ pin_name }} {{ pins[pin_name].pin_string }}{{ '               // ' + pins[pin_name].comment if pins[pin_name].comment else '' }}
{% endif -%}
{% endfor %}
{% if 'rotator_analog_el' in pins -%}
  #define rotator_analog_el {{ pins['rotator_analog_el'].pin_string }}      // reads analog elevation voltage from rotator
{% endif -%}
{% if 'button_up' in pins -%}
  #define button_up {{ pins['button_up'].pin_string }}               // normally open button to ground for manual up elevation
{% endif -%}
{% if 'button_down' in pins -%}
  #define button_down {{ pins['button_down'].pin_string }}             // normally open button to ground for manual down rotation
{% endif -%}
{% if 'brake_el' in pins -%}
  #define brake_el {{ pins['brake_el'].pin_string }}                // goes high to disengage elevation brake (set to 0 to disable)
{% endif -%}
{% if 'elevation_speed_voltage' in pins -%}
  #define elevation_speed_voltage  {{ pins['elevation_speed_voltage'].pin_string }} // optional - PWM output for speed control voltage feed into rotator (on continually unlike rotate_up_pwm and rotate_down_pwm)
{% endif -%}
{% if 'el_stepper_motor_pulse' in pins -%}
  #define el_stepper_motor_pulse {{ pins['el_stepper_motor_pulse'].pin_string }}
{% endif -%}
{% if 'el_rotation_stall_detected' in pins -%}
  #define el_rotation_stall_detected {{ pins['el_rotation_stall_detected'].pin_string }}
{% endif -%}
#endif //FEATURE_ELEVATION_CONTROL
{% endif %}

// rotary encoder pins and options
{% if 'FEATURE_AZ_PRESET_ENCODER' in active_features and 'az_rotary_preset_pin1' in pins -%}
#ifdef FEATURE_AZ_PRESET_ENCODER
  #define az_rotary_preset_pin1 {{ pins['az_rotary_preset_pin1'].pin_string }}                     // CW Encoder Pin
  #define az_rotary_preset_pin2 {{ pins['az_rotary_preset_pin2'].pin_string }}                     // CCW Encoder Pin
#endif //FEATURE_AZ_PRESET_ENCODER
{% endif %}

{% if 'FEATURE_EL_PRESET_ENCODER' in active_features and 'el_rotary_preset_pin1' in pins -%}
#ifdef FEATURE_EL_PRESET_ENCODER
  #define el_rotary_preset_pin1 {{ pins['el_rotary_preset_pin1'].pin_string }}                     // UP Encoder Pin
  #define el_rotary_preset_pin2 {{ pins['el_rotary_preset_pin2'].pin_string }}                     // DOWN Encoder Pin
#endif //FEATURE_EL_PRESET_ENCODER
{% endif %}

{% for pin_name in pins_by_group.get('Rotary Encoders', []) -%}
{% if pin_name in pins -%}
// {{ pin_name }}: {{ pins[pin_name].pin_string }}
{% endif -%}
{% endfor %}

/* LCD pins */
{% for pin_name in pins_by_group.get('LCD', []) -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}{{ ' // ' + pins[pin_name].comment if pins[pin_name].comment else '' }}
{% endif -%}
{% endfor %}

/* compass/magnetometer pins and options */
{% for pin_name in pins_by_group.get('Compass', []) -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}
{% endif -%}
{% endfor %}

/* GPS pins */
{% for pin_name in pins_by_group.get('GPS', []) -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}
{% endif -%}
{% endfor %}

/* other pins */
{% for pin_name in pins_by_group.get('Other', []) -%}
{% if pin_name in pins -%}
#define {{ pin_name }} {{ pins[pin_name].pin_string }}{{ ' // ' + pins[pin_name].comment if pins[pin_name].comment else '' }}
{% endif -%}
{% endfor %}
