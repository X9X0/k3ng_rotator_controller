/* -------------------------- rotation settings ---------------------------------------

  Generated by K3NG Configuration Tool
  https://github.com/k3ng/k3ng_rotator_controller/

*/

{% if 'AZIMUTH_STARTING_POINT_EEPROM_INITIALIZE' in settings -%}
#define AZIMUTH_STARTING_POINT_EEPROM_INITIALIZE {{ settings['AZIMUTH_STARTING_POINT_EEPROM_INITIALIZE'].value }}      // the starting point in degrees of the azimuthal rotator - only used for initializing EEPROM the first time the code is run
{% endif -%}
{% if 'AZIMUTH_ROTATION_CAPABILITY_EEPROM_INITIALIZE' in settings -%}
#define AZIMUTH_ROTATION_CAPABILITY_EEPROM_INITIALIZE {{ settings['AZIMUTH_ROTATION_CAPABILITY_EEPROM_INITIALIZE'].value }} // the default rotation capability of the rotator in degrees - only used for initializing EEPROM the first time the code is run
{% endif -%}

{% if 'ELEVATION_MAXIMUM_DEGREES' in settings -%}
#define ELEVATION_MAXIMUM_DEGREES {{ settings['ELEVATION_MAXIMUM_DEGREES'].value }}           // change this to set the maximum elevation in degrees
{% endif -%}

/* --------------------------- Settings ------------------------------------------------

You can tweak these, but read the online documentation!

*/

// analog voltage calibration - these are default values written upon the very first code boot up
{% for setting in ['ANALOG_AZ_FULL_CCW_EEPROM_INITIALIZE', 'ANALOG_AZ_FULL_CW_EEPROM_INITIALIZE', 'ANALOG_EL_FULL_DOWN_EEPROM_INITIALIZE', 'ANALOG_EL_FULL_UP_EEPROM_INITIALIZE'] -%}
{% if setting in settings -%}
#define {{ setting }} {{ settings[setting].value }}
{% endif -%}
{% endfor %}

{% if 'ANALOG_AZ_OVERLAP_DEGREES' in settings -%}
#define ANALOG_AZ_OVERLAP_DEGREES {{ settings['ANALOG_AZ_OVERLAP_DEGREES'].value }}         // if overlap_led above is enabled, turn on overlap led line if azimuth is greater than this setting
{% endif -%}

{% if 'OPTION_OVERLAP_LED_BLINK_MS' in settings -%}
#define OPTION_OVERLAP_LED_BLINK_MS {{ settings['OPTION_OVERLAP_LED_BLINK_MS'].value }}
{% endif -%}

// PWM speed voltage settings
{% for setting in ['PWM_SPEED_VOLTAGE_X1', 'PWM_SPEED_VOLTAGE_X2', 'PWM_SPEED_VOLTAGE_X3', 'PWM_SPEED_VOLTAGE_X4'] -%}
{% if setting in settings -%}
#define {{ setting }}  {{ settings[setting].value }}         // 0 to 255
{% endif -%}
{% endfor %}

//AZ
{% for setting in ['AZ_SLOWSTART_DEFAULT', 'AZ_SLOWDOWN_DEFAULT', 'AZ_SLOW_START_UP_TIME', 'AZ_SLOW_START_STARTING_PWM', 'AZ_SLOW_START_STEPS', 'SLOW_DOWN_BEFORE_TARGET_AZ'] -%}
{% if setting in settings -%}
#define {{ setting }} {{ settings[setting].value }}{{ ' // ' + settings[setting].comment if settings[setting].comment else '' }}
{% endif -%}
{% endfor %}

{% for setting_name in settings_by_category.get('Motor Control', []) -%}
{% if setting_name in settings -%}
#define {{ setting_name }} {{ settings[setting_name].value }}{{ ' // ' + settings[setting_name].comment if settings[setting_name].comment else '' }}
{% endif -%}
{% endfor %}

/* -------------------------- other settings ---------------------------------------*/

{% for setting_name in settings_by_category.get('Other', []) -%}
{% if setting_name in settings -%}
#define {{ setting_name }} {{ settings[setting_name].value }}{{ ' // ' + settings[setting_name].comment if settings[setting_name].comment else '' }}
{% endif -%}
{% endfor %}
